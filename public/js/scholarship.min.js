var config=["$stateProvider","$httpProvider","$urlRouterProvider","$authProvider","$locationProvider","envServiceProvider","ezfbProvider",function(i,s,e,r,l,a,o){i.state("scholarship",{url:"/",controller:"scholarshipIndexCtrl",templateUrl:"views/scholarship/scholarship.list.html"}).state("scholarshipDetail",{url:"/{id:[a-zA-Z1-9.-]*}",controller:"scholarshipDetailCtrl",templateUrl:"views/scholarship/scholarship.detail.html"}),a.config({domains:{development:["localhost","kisikisi.dev","beasiswa.kisikisi.dev"],production:["103.11.74.10","kisikisi.id","beasiswa.kisikisi.id"]},vars:{development:{site:"//kisikisi.dev/",api:"//api.kisikisi.dev/",file:"//files.kisikisi.dev/",scholarship:"//beasiswa.kisikisi.dev/"},production:{site:"//kisikisi.id/",api:"//api.kisikisi.id/",scholarship:"//beasiswa.kisikisi.id/",file:"//files.kisikisi.id/"}}}),a.check(),l.html5Mode(!0),e.otherwise("/"),r.loginUrl="/login",o.setInitParams({appId:"135688693164869"})}];
var scholarshipDetailCtrl=["$http","$scope","$location","$sce","$stateParams","Notification",function(t,e,i,a,l,n){t.get(e.env.api+"scholarship/"+l.id).success(function(t){e.detail=t.detail,e.detail.content=a.trustAsHtml(t.detail.content),e.detail.requirement=a.trustAsHtml(t.detail.requirement),e.detail.registration=a.trustAsHtml(t.detail.registration),e.detail.deadline=moment.unix(t.detail.deadline).format("MM/DD/YYYY"),e.onDetail=!0})}];
var scholarshipIndexCtrl=["$http","$scope","$rootScope","$location","Notification","envService",function(o,t,c,i,e,n){}];
var scholarshipCtrl=["$http","$scope","$rootScope","$state","$sce","$location","Notification","envService",function(e,t,a,i,o,s,l,n){a.env=n.read("all"),t.scholarships=[],t.scrollBusy=!1,t.limit=12,t.after=0,t.onSearch=!1,t.filter={},t.url=s.absUrl(),t.$on("$includeContentLoaded",function(e){t.modal1=$("#siteModal").modal(),t.modal2=$("#basicModal").modal()}),t.indexSearch=function(e,t){return e.map(function(e){return e.id}).indexOf(t)},t.toggleSearch=function(){0==t.onSearch?t.onSearch=!0:t.onSearch=!1},t.searchScholarship=function(e){t.after=0,t.scholarships=[],t.nextPage(),t.filter=e,t.onSearch=!1,i.go("scholarship")},t.nextPage=function(){t.scrollBusy=!0,e.get(t.env.api+"scholarship/scroll/"+t.after+"/"+t.limit,{params:t.filter}).success(function(e){for(var a=0;a<e.scholarships.length;a++)e.scholarships[a].deadline=moment.unix(e.scholarships[a].deadline).format("MM/DD/YYYY"),t.scholarships.push(e.scholarships[a]);e.scholarships.length>0&&(t.after=e.scholarships[e.scholarships.length-1].id,t.scrollBusy=!1)})},t.loginForm=function(){t.modal2.modal("show")},t.detailScholarship=function(a){e.get(t.env.api+"scholarship/"+a).success(function(e){t.detail=e.detail,t.detail.content=o.trustAsHtml(e.detail.content),t.detail.requirement=o.trustAsHtml(e.detail.requirement),t.detail.registration=o.trustAsHtml(e.detail.registration),t.detail.deadline=moment.unix(e.detail.deadline).format("MM/DD/YYYY"),t.modal1.modal("show")})};var r=this;t.$watch(function(){return r.href},function(){r.rendered=!1})}];
app=angular.module("kisiApp",["ui.router","ngSanitize","satellizer","ngTouch","superswipe","environment","ui-notification","ngTagsInput","ezfb","infinite-scroll","ui.calendar"]),app.config(config).controller("scholarshipCtrl",scholarshipCtrl).controller("scholarshipIndexCtrl",scholarshipIndexCtrl).controller("scholarshipDetailCtrl",scholarshipDetailCtrl).directive("uiRating",function(){return function(i,n,r){$(n).rating()}}).directive("uiTab",function(){return function(i,n,r){$(n).tab()}}).directive("uiSidebar",function(){return function(i,n,r){$(n).sidebar("toggle"),$(n).sidebar("attach events",r.trigger)}}).directive("uiDropdown",function(){return function(i,n,r){$(n).dropdown({keepOnScreen:!1})}}).directive("uiAccordion",function(){return function(i,n,r){$(n).accordion()}});
