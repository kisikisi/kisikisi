<section class="content-header">
  <h1>
    School Directory
    <small>List of School</small>
  </h1>
  <ol class="breadcrumb">
    <li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>
    <li><a href="#">Education Directory</a></li>
    <li class="active">School Directory</li>
  </ol>
</section>
<section class="content">
  <div class="row">
    <div class="col-xs-12">
      <div class="box box-default collapsed-box">
        <div class="box-header with-border">
          <h3 class="box-title">Add School</h3>
          <div class="box-tools pull-right">
            <button class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-plus"></i></button>
            <button class="btn btn-box-tool" data-widget="remove"><i class="fa fa-remove"></i></button>
          </div>
        </div><!-- /.box-header -->
        <form name="schoolForm" class="form-horizontal" ng-submit="addSchool(input)">
          <div class="box-body">
            <div class="form-group">
              <label class="col-sm-2 control-label">School Name</label>
              <div class="col-sm-4">
                <select class="form-control" name="school_type_id" ng-model="input.school_type_id" ng-options="type.id as type.name for type in schoolTypes">
                  <option value="">--Choose Type--</option>
                </select>
              </div>
              <div class="col-sm-6">
                <input id="name" type="text" class="form-control" name="name" ng-model="input.name" placeholder="School Name">
              </div>
            </div>
            <div class="form-group">
              <label class="col-sm-2 control-label">Location</label>
              <div class="col-sm-5">
                <select class="form-control" name="province_id" ng-model="input.province_id" ng-options="prov.id as prov.name for prov in provinces">
                  <option value="">--Pick Province--</option>
                </select>
              </div>
              <div class="col-sm-5">
                <select ng-if="input.province_id" class="form-control" name="city_id" ng-model="input.city_id" ng-options="cty.id as cty.name for cty in cities | filter:{ province_id : input.province_id }">
                  <option value="">--Pick City--</option>
                </select>
              </div>
            </div>
            <div class="form-group">
              <label class="col-sm-2 control-label">Address</label>
              <div class="col-sm-10">
                  <textarea class="form-control" name="address" ng-model="input.address" placeholder="Address" id="" cols="30" rows="2"></textarea>
              </div>
            </div>
            <div class="form-group">
              <label class="col-sm-2 control-label">Contact</label>
              <div class="col-sm-2">
                <input type="text" class="form-control" name="phone" ng-model="input.phone" placeholder="08xxxxxxx">
              </div>
              <div class="col-sm-4">
                <input type="email" class="form-control" name="email" ng-model="input.email" placeholder="school@email.com">
              </div>
              <div class="col-sm-4">
                <input type="url" class="form-control" name="website" ng-model="input.website" placeholder="http://www.school.sch.id">
              </div>
            </div>
            <div class="form-group">
              <label class="col-sm-2 control-label">Picture</label>
              <div class="col-sm-5">
                <div ng-if="onProgress1" class="progress progress-sm active">
                    <div class="progress-bar progress-bar-success progress-bar-striped" role="progressbar" aria-valuenow="{{ progress1 }}" aria-valuemin="0" aria-valuemax="100">
                      <span class="sr-only">{{ progress1 }} Complete</span>
                    </div>
                </div>
                <img ng-if="input.logo != null" ng-src="{{ env.file }}school/logo/{{ input.logo }}" width="50%" />
                <a type="button" class="btn btn-block btn-primary" ngf-select="uploadLogo($file)" ngf-resize="{width: 256, height: 256, centerCrop: true}" name="filelogo" ng-model="filelogo" ngf-pattern="'image/*'"
                    ngf-accept="'image/*'"><i class="fa fa-file-image-o"></i> <span ng-if="filelogo.name == null">Upload Icon</span> {{filelogo.name}}</a>
              </div>
              <div class="col-sm-5">
                <div ng-if="onProgress2" class="progress progress-sm active">
                    <div class="progress-bar progress-bar-success progress-bar-striped" role="progressbar" aria-valuenow="{{ progress2 }}" aria-valuemin="0" aria-valuemax="100">
                      <span class="sr-only">{{ progress2 }} Complete</span>
                    </div>
                </div>
                <img ng-if="input.image != null" ng-src="{{ env.file }}school/image/{{ input.image }}" width="100%" />
                <a type="button" class="btn btn-block btn-primary" ngf-select="uploadImage($file)" ngf-resize="{width: 600, height: 300, centerCrop: true}" name="fileimage" ng-model="fileimage" ngf-pattern="'image/*'"
                    ngf-accept="'image/*'"><i class="fa fa-file-image-o"></i> <span ng-if="fileimage.name == null">Upload Photo</span> {{fileimage.name}}</a>
              </div>
            </div>
            <div class="form-group">
              <label class="col-sm-2 control-label">Map Address</label>
              <div class="col-sm-10">
                <input type="text" class="form-control" name="map_address" ng-model="input.map_address" placeholder="">
              </div>
            </div>
            <div class="form-group">
              <label class="col-sm-2 control-label">Description</label>
              <div class="col-sm-10">
                <textarea class="form-control textarea" name="description" ng-model="input.description" placeholder="" id="description" cols="100%" rows="4"></textarea>
              </div>
            </div>
            <div class="form-group">
              <label class="col-sm-2 control-label">Data</label>
              <div class="col-sm-10">
                <textarea class="form-control textarea" name="data" ng-model="input.data" placeholder="" id="data" cols="100%" rows="6"></textarea>
              </div>
            </div>
            
          </div><!-- /.box-body -->
          <div class="box-footer">
            <button type="reset" class="btn btn-default">Cancel</button>
            <button type="submit" class="btn btn-primary pull-right">Save</button>
          </div><!-- /.box-footer -->
        </form>
      </div><!-- /.box -->
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12">
      <div class="box">
        <div class="box-header">
          <h3 class="box-title">School List</h3>
          <div class="box-tools">
            <div class="input-group pull-right" style="width: 150px;">
              <input type="text" name="table_search" ng-model="search" class="form-control input-sm pull-right" placeholder="Search">
              <div class="input-group-btn">
                <button class="btn btn-sm btn-default"><i class="fa fa-search"></i></button>
              </div>
            </div>
            <dir-pagination-controls boundary-links="true" on-page-change="pageChangeHandler(newPageNumber)" template-url="views/admin/pagination.tpl.html">
            </dir-pagination-controls>
          </div>
        </div><!-- /.box-header -->
        <div class="box-body table-responsive no-padding">
          <table class="table table-hover">
            <tbody><tr>
              <th>No</th>
              <th>School Name</th>
              <th>School Type</th>
              <th>Location</th>
              <th>School Logo</th>
              <th></th>
            </tr>
            <tr dir-paginate="list in type | orderBy:'-id' | itemsPerPage:limit | filter:search" current-page="currentPage">
              <td>{{ ((currentPage-1)*limit)+$index+1 }}</td>
              <td>{{list.name}}</td>
              <td>{{list.type}}</td>
              <td>{{list.city}}</td>
              <td>{{list.logo}}</td>
              <td>
                <div class="btn-group" ng-show="!rowform.$visible">
                  <button type="button" class="btn btn-default" ng-click="rowform.$show()"><i class="fa fa-edit"></i></button>
                  <button type="button" class="btn btn-default" ng-click="deleteType(list.id)"><i class="fa fa-remove"></i></button>
                </div>
              </td>
            </tr>
            
          </tbody></table>
        </div><!-- /.box-body -->
      </div><!-- /.box -->
    </div>
  </div>
</section>
